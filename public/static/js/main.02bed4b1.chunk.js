(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,t){},106:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),l=a.n(s),c=(a(65),a(66),a(67),a(38)),o=a(7),i=a(8),u=a(10),m=a(9),d=a(11),h=a(115),p=a(116),E=a(110),v=a(107),g=a(117),f=a(118),b=a(109),k=a(13),y=a(108),A=a(56),S=a.n(A),C=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(k.a)({},e.target.name,e.target.value),function(){a.isInputValid({name:n,value:r})})},a.handleBlur=function(e){var t=e.target.name;a.setState(Object(k.a)({},t,e.target.value))},a.isInputValid=function(e){var t=e.name,n=e.value,r="".concat(t,"Error");""===a.state[t]?a.setState(Object(k.a)({},r,!0)):"userUrl"===t?new RegExp(/(http:\/\/|https:\/\/)/).test(n)?a.setState(Object(k.a)({},r,!1)):a.setState(Object(k.a)({},r,!0)):a.setState(Object(k.a)({},r,!1))},a.validateForm=function(){a.setState({touched:{userTag:!0,userAccessKey:!0,userSecret:!0,userUrl:!0}}),a.isInputValid({name:"userTag",value:a.state.userUrl}),a.isInputValid({name:"userAccessKey",value:a.state.userAccessKey}),a.isInputValid({name:"userSecret",value:a.state.userSecret}),a.isInputValid({name:"userUrl",value:a.state.userUrl})},a.state={userUrl:"",userTag:"",userAccessKey:"",userSecret:"",userTagError:"",userAccessKeyError:"",userSecretError:"",userUrlError:"",touched:{userTag:!1,userAccessKey:!1,userSecret:!1,userUrl:!1}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.handleClick,a=this.state,n=a.userUrl,s=a.userTag,l=a.userAccessKey,c=a.userSecret,o=function(t){var a=e.state[t],n=t.replace("Error",""),r=e.state.touched[n];return!!a&&r};return r.a.createElement(v.a,{lg:6},r.a.createElement("div",{className:S.a.formComponent},r.a.createElement(y.a,null,r.a.createElement(O,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingAssociate.html"},"Amazon Associate")," Tag"),errorClass:o("userTagError")?"is-invalid":"",nameVal:"userTag",val:s,fieldID:"enter-tag",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"your-tag-20",feedbackText:"Must include Amazon Associate Tag"}),r.a.createElement(O,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingDev.html"},"Access Key ID")),errorClass:o("userAccessKeyError")?"is-invalid":"",nameVal:"userAccessKey",val:l,fieldID:"enter-key-id",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"Access key ID",feedbackText:"Please provide your Access Key ID"}),r.a.createElement(O,{labelContents:r.a.createElement("span",null,"Your ",r.a.createElement("a",{href:"https://docs.aws.amazon.com/AWSECommerceService/latest/DG/becomingDev.html"},"Secret Access Key")),errorClass:o("userSecretError")?"is-invalid":"",nameVal:"userSecret",val:c,fieldID:"enter-secret",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"Secret Access Key",feedbackText:"Please provide your Secret Access Key"}),r.a.createElement(O,{labelContents:"Your Article URL",errorClass:o("userUrlError")?"is-invalid":"",nameVal:"userUrl",val:n,fieldID:"enter-url",handleChange:this.handleChange,handleBlur:this.handleBlur,placeholderText:"http://your-site.com/yourarticle",feedbackText:"Must enter the URL to an article (include http:// or https://)"}),r.a.createElement(b.a,{id:"button-submit-form",color:"primary",onClick:function(){return t(n,e.validateForm,l,c,s)}},"Test"))))}}]),t}(n.Component),T=a(111),P=a(112),w=a(113),I=a(114),O=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.fieldID,a=e.labelContents,n=e.errorClass,s=e.nameVal,l=e.val,c=e.handleChange,o=e.handleBlur,i=e.feedbackText,u=e.placeholderText;return r.a.createElement(E.a,{form:!0},r.a.createElement(v.a,{lg:12},r.a.createElement(T.a,null,r.a.createElement(P.a,{for:t},a),r.a.createElement(w.a,{className:n,type:"text",name:s,value:l,onChange:c,onBlur:o,id:t,placeholder:u}),r.a.createElement(I.a,null,i))))}}]),t}(n.Component);O.defaultProps={fieldID:"",labelContents:"",errorClass:"",nameVal:"",val:"",placeholderText:""};var j=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.recentLink,a=e.index,n=e.handleClick;return r.a.createElement("tr",null,r.a.createElement("td",{className:"tableUsersLinkText"},r.a.createElement("a",{href:t,id:"recent-url-"+a},t)),r.a.createElement("td",{width:"80"},r.a.createElement(b.a,{color:"warning",size:"sm",id:"button-retest-"+a,onClick:n},"Re-test")))}}]),t}(n.Component);j.defaultProps={recentLink:""};var x=a(12),D=a(36),z=a.n(D),R=a(58),L=a.n(R),N=z()("http://localhost:3000");N=z()("/");var K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={scrapeInProgress:!1,links:[],affiliateLinkCount:-1,recentArticles:[],linksProcessed:0,currentArticleLink:"",socketID:"",testStopped:!1,userAccessKey:"",userSecret:"",userTag:""},a.handleClick=function(e,t,n,r,s){var l=!0;t&&(t(),l=!1),new RegExp(/(http:\/\/|https:\/\/)/).test(e)?n&&r&&s?(a.setState({scrapeInProgress:!0}),a.setState({links:[]}),a.setState({count:0}),a.setState({linksProcessed:0}),a.setState({affiliateLinkCount:-1}),a.setState({currentArticleLink:e}),a.setState({userAccessKey:n}),a.setState({userSecret:r}),a.setState({userTag:s}),l||a.setState({recentArticles:[e].concat(Object(c.a)(a.state.recentArticles))}),x.animateScroll.scrollToBottom(),a.setState({testStopped:!1}),N.emit("beginProcessing",e,a.state.socketID,n,r,s)):console.log("One or more Amazon credential is missing"):console.log("This url does not have http(s)://",e)},a.barProgress=0,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.on("connect",function(){N.id?e.setState({socketID:N.id}):console.log("no socket id")}),N.on("staticDataReceived",function(t){t.length&&e.setState({links:t})}),N.on("serverDataReceived",function(t){t&&(e.setState({links:[].concat(Object(c.a)(e.state.links),[t])}),e.setState({linksProcessed:e.state.linksProcessed+1}),e.state.linksProcessed>=e.state.count&&e.setState({scrapeInProgress:!1}))}),N.on("urlsScraped",function(t){e.setState({affiliateLinkCount:t}),e.setState({linksProcessed:0}),e.setState({links:[]})}),x.Events.scrollEvent.register("begin",function(e,t){}),x.Events.scrollEvent.register("end",function(e,t){}),x.scrollSpy.update()}},{key:"componentWillUnmount",value:function(){x.Events.scrollEvent.remove("begin"),x.Events.scrollEvent.remove("end"),N.removeListener("staticDataReceived"),N.removeListener("urlsScraped"),N.removeListener("serverDataReceived")}},{key:"displayAmazonResults",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return null!==e&&void 0!==e}).map(function(e,t){var a=e,n="glyphicon glyphicon-remove text-danger";a.validOnAmazon&&(n="glyphicon glyphicon-ok text-success");var s=r.a.createElement("tr",{key:t},r.a.createElement("td",{className:"tableUsersLinkText"},r.a.createElement("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},a.urlText)),r.a.createElement("td",null,r.a.createElement("span",{className:n})),r.a.createElement("td",{className:"tableProductTitle"},a.itemName,r.a.createElement("br",null),r.a.createElement("small",null,r.a.createElement("b",null,"Tag: ",a.tag))));return a||a.url?s:null})}},{key:"displayRecentArticles",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(e){return null!==e&&void 0!==e}).map(function(t,a){var n=r.a.createElement(j,{recentLink:t,handleClick:function(){return e.handleClick(t,"",e.state.userAccessKey,e.state.userSecret,e.state.userTag)},key:a,index:a});return a<8?n:null})}},{key:"stopOrRestartCurrentTest",value:function(e,t){t<100?(this.setState({testStopped:!0}),N.emit("stopSignal",this.state.socketID)):t>=100&&this.handleClick(e,"",this.state.userAccessKey,this.state.userSecret,this.state.userTag)}},{key:"render",value:function(){var e=this,t=this.state,a=t.links,n=t.affiliateLinkCount,s=t.recentArticles,l=t.linksProcessed,c=t.scrapeInProgress,o=t.currentArticleLink,i=a.length?this.displayAmazonResults(a):null,u=s.length?this.displayRecentArticles(s):null,m="Reticulating splines...";return this.state.testStopped?(this.barProgress=100,m="Test stopped by user!"):0===l&&-1===n?c&&(this.barProgress=2,m="Scraping your site for Amazon links..."):0===l&&0===n?(this.barProgress=100,m="No links found"):l>0&&l<n?(this.barProgress=l/n*100,m="Processing link (".concat(l,"/").concat(n,")")):l>=n&&(this.barProgress=100,m="Done!"),r.a.createElement("div",null,r.a.createElement(h.a,{id:"app-container",className:L.a.LinkCheckerContainer},r.a.createElement(p.a,{fluid:!0},r.a.createElement("link",{href:"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css",rel:"stylesheet"}),r.a.createElement("h2",{id:"link-checker-title"},"Amazin' Affiliate Link Checker"),r.a.createElement("p",null,"Identify broken, outdated and mis-tagged Amazon product links in your blog articles.",r.a.createElement("br",null),"Requires an Amazon Associates account and Amazon Product Advertising API credentials. ",r.a.createElement("a",{href:"/"},r.a.createElement("br",null),"Watch a demo video.")),r.a.createElement(E.a,null,r.a.createElement(C,{handleClick:this.handleClick}),r.a.createElement(v.a,{lg:6},r.a.createElement("div",null,r.a.createElement("h4",null,"Recently tested urls"),r.a.createElement(g.a,null,r.a.createElement("tbody",{id:"recent-article-links"},u)))))),r.a.createElement(x.Element,{name:"scrollToElement",className:"element"}),r.a.createElement("div",{className:0===this.barProgress?"hidden":""},r.a.createElement("h3",{id:"progress"},"Progress"),r.a.createElement("p",{className:""===o?"hidden":""},r.a.createElement("label",null,"Your article's URL"),r.a.createElement("br",null)," ",r.a.createElement("a",{href:o},o)),r.a.createElement("div",{className:"pad-bottom"},r.a.createElement("div",{className:"text-center"},m,r.a.createElement(f.a,{color:"info",value:this.barProgress})),r.a.createElement(b.a,{className:this.barProgress<100?"btn-danger center-block":"btn-warning center-block",onClick:function(){return e.stopOrRestartCurrentTest(o,e.barProgress)}},this.barProgress<100&&!this.state.testStopped?"Stop test":"Re-run test"))),r.a.createElement("div",{className:0===l?"hidden":""},r.a.createElement("h3",null,"Results"),r.a.createElement("p",null,l," / ",n," Affiliate links processed"),r.a.createElement(g.a,{hover:!0,size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{width:"120"},"Your article's Amazon links"),r.a.createElement("th",{width:"60"},"Valid"),r.a.createElement("th",{width:"300"},"Product title"))),r.a.createElement("tbody",null,i)))),r.a.createElement(h.a,{fluid:!0,className:"dark-grey-bg"},r.a.createElement(E.a,{className:"pad-footer"},r.a.createElement(v.a,{lg:"5"},r.a.createElement("label",null,"Who this tool is for"),r.a.createElement("p",null,'This tool is intended for Amazon Associates ("affiliates") with established websites.'),r.a.createElement("label",null,"Why use this tool"),r.a.createElement("p",null,'For a variety of reasons, your site\'s Amazon.com product links may become outdated. When this happens, your visitors end up on 404 pages ("dog pages") instead of the product(s) you meant to show them. This tool helps you quickly locate those dead links.'),r.a.createElement("label",null,"How it works"),r.a.createElement("p",null,"This tool scans your article for Amazon product links. It extracts a product ID from each link and checks that the product ID is valid. This website does not store your credentials or any information about your site.")),r.a.createElement(v.a,{lg:"1"}),r.a.createElement(v.a,{lg:"5"},r.a.createElement("label",null,"Interpreting your results"),r.a.createElement("p",null,'Unfortunately, not every product on Amazon is in the Amazon Product Advertising API. Valid links may be marked "invalid" by this tool if the product doesn\'t exist in the API, even if it exists on Amazon.'),r.a.createElement("p",null,'The tool also considers links to Amazon.com search results to be "invalid" even though they are perfectly acceptable to Amazon and your site\'s users.'),r.a.createElement("p",null,'You should manually confirm any "invalid" results you get.'),r.a.createElement("label",null,"About the author"),r.a.createElement("p",null,"This tool was created by blogger and web developer ",r.a.createElement("a",{href:"https://github.com/MJGrant"},"MJ Grant"),".")))))}}]),t}(n.Component),U=a(59),B=a.n(U);var V=function(){return r.a.createElement("div",{className:B.a.appContainer},r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},56:function(e,t,a){},58:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){e.exports=a(106)},65:function(e,t,a){},66:function(e,t,a){}},[[60,1,2]]]);
//# sourceMappingURL=main.02bed4b1.chunk.js.map